{
  "version": 3,
  "sources": ["islands/UnifiedIsland/InputField.ts"],
  "sourcesContent": ["import { h } from \"preact\";\nimport { useState } from \"preact/hooks\";\nimport { tw } from \"twind\";\nimport CharacterSelection from \"./CharacterSelection.ts\";\n\nexport default function TextField({ setFinalResponseText, isLoading, setIsLoading, handleGenerateContent }) {\n  const [userInput, setUserInput] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [voiceId, setVoiceId] = useState(\"\"); \n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n  setIsLoading(true);\n  handleGenerateContent(userInput, voiceId);\n    const data = new URLSearchParams();\n    data.append(\"userInput\", userInput);\n    const response = await fetch('/api/chat', {\n      method: 'POST',\n      body: data,\n    });\n\n    const responseData = await response.json();\n    if (responseData.error) {\n      setError(\"Was not able to detect learning intention.\");\n      setTimeout(() => setError(null), 5000);\n    } else {\n      setFinalResponseText(responseData.message);\n      setError(null);\n    }\n    setIsLoading(false);\n  };\n\n  return h(\n    \"div\", { class: tw`flex flex-col items-center justify-center h-screen pb-32` }, [\n      isLoading ? h(\"div\", {}, \"Loading...\") : h(\"form\", { onSubmit: handleFormSubmit, class: tw`flex flex-col items-center w-full` }, [\n        h( \"h1\", {\n          class: tw`p-2 text-xl text-center`\n        }, \"What would you like to learn?\"),\n        h(\"textarea\", {\n          name: \"userInput\",\n          placeholder: \"Type in the subject...\",\n          value: userInput,\n          onInput: e => setUserInput(e.target.value),\n          rows: \"4\",\n          class: tw`border-4 border-[#38A1FF] p-2 rounded-xl w-full h-1/4 mx-auto shadow-lg focus:outline-none`,\n        }),\n        h(CharacterSelection, { setVoiceId }),\n        error && h(\"div\", { \n          class: \"rounded-full text-sm shadow-sm text-red-500 bg-red-200 mx-auto text-center\" \n        }, error),     \n        h(\"button\", { \n          type: \"submit\", \n          class: tw`bg-[#38A1FF] hover:bg-[#318BDC] rounded-full px-4 py-2 text-white text-xl mx-auto block` \n        }, \"Generate\")\n      ])\n    ]\n  );\n}"],
  "mappings": "+JAKe,SAAR,UAA2B,CAAE,qBAAsB,UAAW,aAAc,qBAAsB,EAAG,CAC1G,GAAM,CAAC,UAAW,YAAY,EAAI,EAAS,EAAE,EACvC,CAAC,MAAO,QAAQ,EAAI,EAAS,IAAI,EACjC,CAAC,QAAS,UAAU,EAAI,EAAS,EAAE,EAEnC,iBAAmB,MAAO,OAAU,CACxC,MAAM,eAAe,EACvB,aAAa,EAAI,EACjB,sBAAsB,UAAW,OAAO,EACtC,IAAM,KAAO,IAAI,gBACjB,KAAK,OAAO,YAAa,SAAS,EAMlC,IAAM,aAAe,MALJ,MAAM,MAAM,YAAa,CACxC,OAAQ,OACR,KAAM,IACR,CAAC,GAEmC,KAAK,EACrC,aAAa,OACf,SAAS,4CAA4C,EACrD,WAAW,IAAM,SAAS,IAAI,EAAG,GAAI,IAErC,qBAAqB,aAAa,OAAO,EACzC,SAAS,IAAI,GAEf,aAAa,EAAK,CACpB,EAEA,OAAO,GACL,MAAO,CAAE,MAAO,4DAA6D,EAAG,CAC9E,UAAY,GAAE,MAAO,CAAC,EAAG,YAAY,EAAI,GAAE,OAAQ,CAAE,SAAU,iBAAkB,MAAO,qCAAsC,EAAG,CAC/H,GAAG,KAAM,CACP,MAAO,2BACT,EAAG,+BAA+B,EAClC,GAAE,WAAY,CACZ,KAAM,YACN,YAAa,yBACb,MAAO,UACP,QAAS,GAAK,aAAa,EAAE,OAAO,KAAK,EACzC,KAAM,IACN,MAAO,8FACT,CAAC,EACD,GAAE,mBAAoB,CAAE,UAAW,CAAC,EACpC,OAAS,GAAE,MAAO,CAChB,MAAO,4EACT,EAAG,KAAK,EACR,GAAE,SAAU,CACV,KAAM,SACN,MAAO,2FACT,EAAG,UAAU,CACf,CAAC,CACH,CACF,CACF",
  "names": []
}
