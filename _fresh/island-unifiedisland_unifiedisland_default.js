import{AudioPlayer}from"./chunk-CKP7RPZC.js";import{TextField}from"./chunk-M3R65FNR.js";import"./chunk-AML3W27K.js";import{SubjectCard}from"./chunk-BHE7GTHQ.js";import{Jt}from"./chunk-BMKRBKO4.js";import{j,k}from"./chunk-JEHWBBA4.js";import{le}from"./chunk-4M2GZMYH.js";function UnifiedIsland(){let[finalResponseText,setFinalResponseText]=k(""),[textId,setTextId]=k(null),[isLoading,setIsLoading]=k(!1),[isCollapsed,setIsCollapsed]=k(!0),[selectedItem,setSelectedItem]=k(null),[showSubjectCard,setShowSubjectCard]=k(!0),[shouldRefreshHistory,setShouldRefreshHistory]=k(!1),handleTextGenerated=(text,id)=>{setFinalResponseText({choices:[{message:{function_call:{arguments:text}}}]}),setTextId(id)},handleGenerateContent=async userInput=>{(await fetch("/api/chat",{method:"POST",body:new URLSearchParams({userInput})})).ok&&setShouldRefreshHistory(!0)};return j(()=>{console.log(selectedItem)},[selectedItem]),le("div",{class:Jt`flex flex-row items-center justify-center min-h-screen pb-32`},[isCollapsed&&le("button",{onClick:()=>{setFinalResponseText(""),setSelectedItem(null),setShowSubjectCard(!0)},class:Jt`fixed z-10 top-5 right-0 transform -translate-x-1/2 w-12 h-12 bg-[#38A1FF] hover:bg-[#318BDC] text-white font-semibold flex justify-center items-center rounded-full shadow-lg`},[le("svg",{class:Jt`fill-current text-white`,width:"24",height:"24"},le("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}))]),isCollapsed&&le("div",{class:Jt`flex flex-col items-center justify-center z-0 w-full p-4`},[!selectedItem&&(!finalResponseText||finalResponseText==="")&&le(TextField,{setFinalResponseText:handleTextGenerated,isLoading,setIsLoading,handleGenerateContent}),showSubjectCard&&finalResponseText&&le(SubjectCard,{message:selectedItem||finalResponseText,class:Jt`w-auto max-w-xl`}),!selectedItem&&le(AudioPlayer,{textToConvert:finalResponseText,textId,setIsLoading,class:Jt`w-full`})])])}export{UnifiedIsland as default};
//# sourceMappingURL=island-unifiedisland_unifiedisland_default.js.map
