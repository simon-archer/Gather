{
  "version": 3,
  "sources": ["islands/UnifiedIsland/InputField.ts"],
  "sourcesContent": ["import { h, Fragment } from \"preact\";\nimport { useState} from \"preact/hooks\";\nimport { tw } from \"twind\";\n\nexport default function InputField({ setFinalResponseText, isLoading, setIsLoading, voiceId, setVoiceId }) {\n  const [userInput, setUserInput] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n  setIsLoading(true);\n    const data = new URLSearchParams();\n    data.append(\"userInput\", userInput);\n    const response = await fetch('/api/chat', {\n      method: 'POST',\n      body: data,\n    });\n\n\n    const responseData = await response.json();\n    if (responseData.error) {\n      setError(\"Was not able to detect learning intention.\");\n      setTimeout(() => setError(null), 5000);\n    } else {\n      setFinalResponseText(responseData.message);\n      setError(null);\n    }\n    setIsLoading(false);\n  };\n\n  const handleButtonClick = (event, id: string) => { // Add this function\n    event.preventDefault();\n    setVoiceId(id);\n    console.log(\"Button Highlighted \" + id);\n    new Audio(`https://hnshlqzjuzbgckjromvg.supabase.co/storage/v1/object/public/audioFiles/${id}.mp3?t=2023-09-10T11%3A22%3A21.387Z`).play();\n  };\n\n  return h(\n    \"div\", { class: tw`flex flex-col items-center justify-center h-screen` }, [\n      isLoading ? \n      h(Fragment, {}, [\n        h(\"div\", { class: tw`text-sm loading-text bg-white border-2 border-black shadow-lg rounded-full py-2 px-4 m-8 font-semibold text-center` }),\n        h(\"div\", { class: tw`spinner` }),\n      ]) \n    : h(\"form\", { onSubmit: handleFormSubmit, class: tw`flex flex-col items-center w-full` }, [\n        h( \"h1\", {\n          class: tw`py-4 text-xl font-semibold text-center`\n        }, \"What would you like to learn?\"),\n        h(\"textarea\", {\n          name: \"userInput\",\n          placeholder: \"Type in the subject...\",\n          value: userInput,\n          onInput: e => setUserInput(e.target.value),\n          rows: \"4\",\n          class: tw`border-4  border-[#38A1FF] p-2 rounded-xl w-full h-1/4 mx-auto shadow-lg focus:outline-none`,\n        }),\n        h( \"h1\", {\n          class: tw`pt-8 text-xl font-semibold text-center`\n        }, \"Who do you want to listen to?\"),\n        h(\"div\", { class: tw` py-4 flex flex-wrap justify-center items-center` }, [\n        h(\"button\", { onClick: (event) => handleButtonClick(event, \"9dSY1SPd1tIQimc1vGkV\"), class: voiceId === \"9dSY1SPd1tIQimc1vGkV\" ? tw`bg-blue-400 hover:bg-blue-500 rounded-full p-2 text-black text-sm mx-2 my-1 focus:outline-none` : tw`bg-gray-200 hover:bg-gray-400 rounded-full p-2 text-black text-sm mx-2 my-1 focus:outline-none`}, \"Bosco\"),\n        h(\"button\", { onClick: (event) => handleButtonClick(event, \"CRgVuL7NHLOGdC7AAxb2\"), class: voiceId === \"CRgVuL7NHLOGdC7AAxb2\" ? tw`bg-blue-400 hover:bg-blue-500 rounded-full p-2 text-black text-sm mx-2 my-1 focus:outline-none` : tw`bg-gray-200 hover:bg-gray-400 rounded-full p-2 text-black text-sm mx-2 my-1 focus:outline-none`}, \"Cynthia\"),\n        h(\"button\", { onClick: (event) => handleButtonClick(event, \"VTvSgMwVP8qbNLRgV9vE\"), class: voiceId === \"VTvSgMwVP8qbNLRgV9vE\" ? tw`bg-blue-400 hover:bg-blue-500 rounded-full p-2 text-black text-sm mx-2 my-1 focus:outline-none` : tw`bg-gray-200 hover:bg-gray-400 rounded-full p-2 text-black text-sm mx-2 my-1 focus:outline-none`}, \"Alice\"),\n        h(\"button\", { onClick: (event) => handleButtonClick(event, \"rU18Fk3uSDhmg5Xh41o4\"), class: voiceId === \"rU18Fk3uSDhmg5Xh41o4\" ? tw`bg-blue-400 hover:bg-blue-500 rounded-full p-2 text-black text-sm mx-2 my-1 focus:outline-none` : tw`bg-gray-200 hover:bg-gray-400 rounded-full p-2 text-black text-sm mx-2 my-1 focus:outline-none`}, \"Ryan\")\n      ]),\n        error && h(\"div\", { \n          class: \"rounded-full text-sm shadow-sm text-red-500 bg-red-200 mx-auto text-center\" \n        }, error),     \n        h(\"button\", { \n          type: \"submit\", \n          class: tw`bg-[#38A1FF] hover:bg-[#318BDC] m-8 rounded-full px-4 py-2 text-white text-xl mx-auto block` \n        }, \"Generate\")\n      ])\n    ]\n  );\n}"],
  "mappings": "6GAIe,SAAR,WAA4B,CAAE,qBAAsB,UAAW,aAAc,QAAS,UAAW,EAAG,CACzG,GAAM,CAAC,UAAW,YAAY,EAAI,EAAS,EAAE,EACvC,CAAC,MAAO,QAAQ,EAAI,EAAS,IAAI,EAEjC,iBAAmB,MAAO,OAAU,CACxC,MAAM,eAAe,EACvB,aAAa,EAAI,EACf,IAAM,KAAO,IAAI,gBACjB,KAAK,OAAO,YAAa,SAAS,EAOlC,IAAM,aAAe,MANJ,MAAM,MAAM,YAAa,CACxC,OAAQ,OACR,KAAM,IACR,CAAC,GAGmC,KAAK,EACrC,aAAa,OACf,SAAS,4CAA4C,EACrD,WAAW,IAAM,SAAS,IAAI,EAAG,GAAI,IAErC,qBAAqB,aAAa,OAAO,EACzC,SAAS,IAAI,GAEf,aAAa,EAAK,CACpB,EAEM,kBAAoB,CAAC,MAAO,KAAe,CAC/C,MAAM,eAAe,EACrB,WAAW,EAAE,EACb,QAAQ,IAAI,sBAAwB,EAAE,EACtC,IAAI,MAAM,gFAAgF,EAAE,qCAAqC,EAAE,KAAK,CAC1I,EAEA,OAAO,GACL,MAAO,CAAE,MAAO,sDAAuD,EAAG,CACxE,UACA,GAAE,EAAU,CAAC,EAAG,CACd,GAAE,MAAO,CAAE,MAAO,sHAAuH,CAAC,EAC1I,GAAE,MAAO,CAAE,MAAO,WAAY,CAAC,CACjC,CAAC,EACD,GAAE,OAAQ,CAAE,SAAU,iBAAkB,MAAO,qCAAsC,EAAG,CACtF,GAAG,KAAM,CACP,MAAO,0CACT,EAAG,+BAA+B,EAClC,GAAE,WAAY,CACZ,KAAM,YACN,YAAa,yBACb,MAAO,UACP,QAAS,GAAK,aAAa,EAAE,OAAO,KAAK,EACzC,KAAM,IACN,MAAO,+FACT,CAAC,EACD,GAAG,KAAM,CACP,MAAO,0CACT,EAAG,+BAA+B,EAClC,GAAE,MAAO,CAAE,MAAO,oDAAqD,EAAG,CAC1E,GAAE,SAAU,CAAE,QAAU,OAAU,kBAAkB,MAAO,sBAAsB,EAAG,MAAO,UAAY,uBAAyB,mGAAqG,kGAAkG,EAAG,OAAO,EACjV,GAAE,SAAU,CAAE,QAAU,OAAU,kBAAkB,MAAO,sBAAsB,EAAG,MAAO,UAAY,uBAAyB,mGAAqG,kGAAkG,EAAG,SAAS,EACnV,GAAE,SAAU,CAAE,QAAU,OAAU,kBAAkB,MAAO,sBAAsB,EAAG,MAAO,UAAY,uBAAyB,mGAAqG,kGAAkG,EAAG,OAAO,EACjV,GAAE,SAAU,CAAE,QAAU,OAAU,kBAAkB,MAAO,sBAAsB,EAAG,MAAO,UAAY,uBAAyB,mGAAqG,kGAAkG,EAAG,MAAM,CAClV,CAAC,EACC,OAAS,GAAE,MAAO,CAChB,MAAO,4EACT,EAAG,KAAK,EACR,GAAE,SAAU,CACV,KAAM,SACN,MAAO,+FACT,EAAG,UAAU,CACf,CAAC,CACH,CACF,CACF",
  "names": []
}
